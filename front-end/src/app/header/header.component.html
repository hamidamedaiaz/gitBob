<header>
  <button (click)="toggleSidebar()" class="toggle-button">
    <span [class.active]="!isSidebarCollapsed"></span>
    <span [class.active]="!isSidebarCollapsed"></span>
    <span [class.active]="!isSidebarCollapsed"></span>
  </button>
  
  <div [class.collapsed]="isSidebarCollapsed" class="sidebar">
    
    <nav class="sidebar-nav">
      <ul>
        <li>
          <a (click)="navigateAndClose('/game')" routerLinkActive="active" class="nav-link">
            <i class="fas fa-gamepad"></i><span>Jeux</span>
          </a>
        </li>

        <li class="menu-item-with-submenu">
          <a (click)="toggleManagementMenu()" class="dropdown-trigger">
            <i class="fas fa-cogs"></i><span>Gestion</span>
            <i [class.rotated]="isManagementMenuOpen" class="fas fa-chevron-down submenu-icon"></i>
          </a>
          <ul [class.open]="isManagementMenuOpen" class="submenu">
            <li>
              <a (click)="navigateAndClose('/management/profiles')" routerLinkActive="active" class="nav-link">
                <i class="fas fa-users"></i><span>Gestion des profils</span>
              </a>
            </li>
            <li>
              <a (click)="navigateAndClose('/management/quizzes-management')" routerLinkActive="active" class="nav-link">
                <i class="fas fa-question-circle"></i><span>Gestion des quiz</span>
              </a>
            </li>
            <li>
              <a (click)="navigateAndClose('/themes-management')" routerLinkActive="active" class="nav-link">
                <i class="fas fa-palette"></i><span>Gestion des thèmes</span>
              </a>
            </li>
          </ul>
        </li>
      </ul>
    </nav>

    <!-- Profil ergothérapeute en bas du sidebar -->
    <div class="sidebar-footer">
      <div class="header-profile">
        <img [src]="profileImage" alt="Profil" class="profile-image"/>
        <div class="profile-details">
          <h3>{{ profileName }}</h3>
          <p>Ergothérapeute</p>
        </div>
        <button aria-label="Logout" class="logout-btn" title="Se déconnecter">
          <i class="fas fa-sign-out-alt"></i>
        </button>
      </div>
    </div>
  </div>

  <!-- Overlay pour fermer le sidebar en cliquant à l'extérieur -->
  <div *ngIf="!isSidebarCollapsed" (click)="closeSidebar()" class="sidebar-overlay"></div>
</header>